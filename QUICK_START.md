# Быстрый старт - Arcpit

## Что уже реализовано ✅

### Основная механика
- ✅ Система команд: каждый игрок в своей команде (до 8 игроков)
- ✅ Автоматическое добавление бота если игрок один
- ✅ Стадия выбора героя (5 сек, автовыбор случайного)
- ✅ Стадия выбора способностей (5 сек, автовыбор 5 случайных)
- ✅ Предбоевая стадия (10 сек, все друзья в центре карты)
- ✅ Боевая стадия (все становятся врагами)

### UI
- ✅ Экран отображения текущей стадии
- ✅ Таймер обратного отсчета
- ✅ Автоматическое скрытие UI после завершения стадии

### Техническая часть
- ✅ TypeScript -> Lua компиляция для vscripts
- ✅ TypeScript -> JavaScript компиляция для Panorama UI
- ✅ Система событий между сервером и клиентом
- ✅ Конфигурационные файлы игры

## Как запустить

### 1. Сборка проекта
```bash
bun run build
```

### 2. Запуск игры
```bash
# Запустить Dota 2 с картой
bun run launch

# Или запустить и сразу начать игру
bun run play
```

### 3. В игре
1. Откроется Dota 2 в режиме Tools
2. Загрузится карта `arcpit_1`
3. Нажмите "Start Game" или дождитесь автозапуска
4. Игра автоматически пройдет через все стадии:
   - **5 сек** - Выбор героя (автоматический)
   - **5 сек** - Выбор способностей (автоматический)
   - **10 сек** - Подготовка (все друзья)
   - **Бой** - Все становятся врагами!

## Текущее поведение

### При 1 игроке
- Автоматически добавляется бот
- Бот получает случайного героя и способности
- Бот будет атаковать игрока после начала боевой стадии

### При нескольких игроках
- Каждый игрок в своей команде
- Все получают случайных героев
- Все получают 5 случайных способностей
- После 10 секунд подготовки все становятся врагами

## Отладка

### Просмотр логов
```bash
bun run logs
```

### Логи сохраняются в
- `logs/launch_*.log` - Логи запуска
- `logs/play_*.log` - Логи игры

### Консольные команды в игре
- `script_reload` - Перезагрузить Lua скрипты
- `dota_hero_god_mode 1` - Бессмертие (для тестирования)
- `dota_dev hero_level 25` - Максимальный уровень

## Что делать дальше

### Для тестирования механик
1. Запустите игру с `bun run play`
2. Дождитесь завершения всех стадий
3. Проверьте что:
   - Герой выбран случайно
   - Есть 5 способностей
   - После 10 секунд бот становится врагом

### Для разработки
1. Откройте два терминала:
```bash
# Терминал 1 - автокомпиляция
bun run dev

# Терминал 2 - запуск игры
bun run launch
```

2. Редактируйте файлы в `src/`
3. В игре используйте `script_reload` для применения изменений

## Известные особенности

- UI может не отображаться если custom_ui_manifest.xml не загрузился
- Боты могут не атаковать сразу после смены команды
- Способности могут конфликтовать между собой (это нормально для Custom Hero Chaos)

## Следующие шаги для улучшения

1. **UI для выбора героев**
   - Показывать 3 героя на выбор
   - Кнопки для выбора
   - Превью героев

2. **UI для выбора способностей**
   - Показывать список способностей
   - Выбор 5 из предложенных
   - Описание способностей

3. **Система раундов**
   - Счетчик побед
   - Респавн после смерти
   - Таблица лидеров

4. **Улучшение карты**
   - Добавить препятствия
   - Зоны силы
   - Визуальные эффекты

