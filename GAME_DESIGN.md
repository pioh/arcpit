# Arcpit - Custom Hero Chaos

## Описание игры

Arcpit - это кастомная игра для Dota 2 в стиле Custom Hero Chaos. Игроки сражаются друг против друга, каждый в своей команде, с случайными героями и способностями.

## Основные механики

### Команды и игроки
- Поддержка от 1 до 8 игроков
- Каждый игрок находится в своей уникальной команде
- Если в игре только 1 игрок, автоматически добавляется бот

### Стадии игры

#### 1. Стадия выбора героя (5 секунд)
- Игрокам показывается экран выбора героя
- Таймер: 5 секунд
- Автоматический выбор случайного героя из пула

**Пул героев:**
- Axe, Juggernaut, Sven, Pudge
- Crystal Maiden, Lina, Invoker, Mirana
- Anti-Mage, Phantom Assassin, Sniper, Drow Ranger

#### 2. Стадия выбора способностей (5 секунд)
- Игрокам показывается экран выбора способностей
- Таймер: 5 секунд
- Автоматический выбор 5 случайных способностей из всех героев
- Все стандартные способности героя удаляются и заменяются на выбранные

**Пул способностей:**
Включает базовые способности следующих героев:
- Axe, Juggernaut, Sven, Pudge, Crystal Maiden, Lina

#### 3. Предбоевая стадия (10 секунд)
- Все игроки спавнятся в центре карты
- Все игроки временно являются союзниками (команда GOODGUYS)
- Таймер: 10 секунд
- Время для подготовки и осмотра способностей

#### 4. Боевая стадия
- Все игроки возвращаются в свои уникальные команды
- Все становятся врагами друг другу
- Начинается бой до последнего выжившего

## Технические детали

### Структура файлов

#### VScripts (src/vscripts/)
- `GameMode.ts` - Основная логика игры
- `addon_game_mode.ts` - Точка входа
- `lib/` - Библиотеки (timers, utils)

#### Panorama UI (src/panorama/)
- `hud.ts` - UI для отображения стадий игры
- `manifest.ts` - Манифест UI

#### Конфигурация (game/)
- `addoninfo.txt` - Информация об аддоне
- `scripts/npc/npc_abilities_custom.txt` - Кастомные способности
- `scripts/npc/npc_heroes_custom.txt` - Кастомные герои
- `scripts/vscripts/gamemode.txt` - Настройки режима игры

#### UI (content/panorama/)
- `layout/custom_game/hud.xml` - Разметка UI
- `layout/custom_game/custom_ui_manifest.xml` - Манифест кастомного UI
- `styles/custom_game/hud.css` - Стили UI

### События

#### Server -> Client
- `stage_changed` - Смена стадии игры
  - `stage: number` - Номер стадии
  - `duration: number` - Длительность в секундах

#### Client -> Server
- `hero_selected` - Выбор героя (для будущего функционала)
- `abilities_selected` - Выбор способностей (для будущего функционала)

## Планы развития

### Ближайшие улучшения
1. **Ручной выбор героев**
   - Показывать 3 случайных героя на выбор
   - Возможность выбрать одного из них

2. **Ручной выбор способностей**
   - Показывать несколько способностей на выбор
   - Выбор 5 способностей из предложенных

3. **Система раундов**
   - Множественные раунды
   - Подсчет очков
   - Таблица лидеров

4. **Дополнительные механики**
   - Уникальные предметы
   - Система апгрейдов
   - Специальные события на карте

### Долгосрочные планы
- Балансировка способностей
- Добавление большего количества героев и способностей
- Система достижений
- Кастомные модификаторы и эффекты

## Сборка и запуск

```bash
# Сборка проекта
bun run build

# Запуск в режиме разработки
bun run dev

# Запуск игры
bun run launch

# Запуск с игроком
bun run play
```

## Карта

Карта `arcpit_1.vmap` содержит:
- `tile_grid` 64x64
- `world_bounds`
- `info_player_start`
- `ent_dota_lightinfo`
- `ent_dota_game_events`

Все остальные игровые элементы создаются программно.

